<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<style>*{box-sizing:border-box}body{font-family:system-ui,sans-serif;margin:0}</style>
<meta name='generator' content='mdx-deck'>
<title data-head="true">Nubank Clojure</title><style data-styled="haxzII uVStT fnjkwn bjRLwG huoDjZ cOMwQu hZotqo jAFSiZ ikSKGy fdilWx kfwTvB bLgNgG wJUqW flYqAW hhOokc bktZNt bPvHIy cIbtdN dCXoOk RRYwl bGVkCx hmwvJl evDtJG iCAEIQ" data-styled-version="4.1.3">
/* sc-component-id: Flex-sc-1wyx7c4-0 */
.RRYwl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:8px;margin-left:auto;margin-right:auto;} @media print{.RRYwl{display:none;}}
/* sc-component-id: Dots__Dot-m5ie3q-0 */
.bGVkCx{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:4px solid transparent;background-clip:padding-box;border-radius:9999px;width:8px;height:8px;color:inherit;opacity:0.5;margin:0px;padding:4px;color:white;background-color:white;} .bGVkCx:focus{outline:none;box-shadow:0 0 0 1px;}.hmwvJl{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:4px solid transparent;background-clip:padding-box;border-radius:9999px;width:8px;height:8px;color:inherit;opacity:0.125;margin:0px;padding:4px;color:white;background-color:white;} .hmwvJl:focus{outline:none;box-shadow:0 0 0 1px;}
/* sc-component-id: Provider__Bottom-sc-1iqnegd-0 */
.dCXoOk{position:fixed;left:0;right:0;bottom:0;}
/* sc-component-id: sc-bdVaJa */
.evDtJG{cursor:pointer;width:64px;height:100vh;position:fixed;top:0;left:0;bottom:0;}
/* sc-component-id: sc-bwzfXH */
.iCAEIQ{cursor:pointer;width:64px;height:100vh;position:fixed;top:0;right:0;bottom:0;}
/* sc-component-id: Carousel__CarouselRoot-sc-1sjk1xy-0 */
.uVStT{overflow-x:hidden;width:100%;height:100%;} @media print{.uVStT{height:auto;overflow-x:visible;}}
/* sc-component-id: Carousel__CarouselInner-sc-1sjk1xy-1 */
.fnjkwn{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:100%;-webkit-transition-property:-webkit-transform;-webkit-transition-property:transform;transition-property:transform;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transform:translate3d(0%,0,0);-ms-transform:translate3d(0%,0,0);transform:translate3d(0%,0,0);} @media print{.fnjkwn{height:auto;display:block;}}
/* sc-component-id: Slide__Root-sc-1lv2mpt-0 */
.bjRLwG{-webkit-flex:none;-ms-flex:none;flex:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;width:100%;height:100%;padding-left:32px;padding-right:32px;} @media print{.bjRLwG{width:100vw;height:100vh;page-break-after:always;page-break-inside:avoid;-webkit-print-color-adjust:exact;}} @media screen and (min-width:40em){.bjRLwG{padding-left:64px;padding-right:64px;}} @media screen and (min-width:52em){.bjRLwG{padding-left:128px;padding-right:128px;}}
/* sc-component-id: Root-sc-14f5wl6-0 */
.haxzII{font-family:system-ui,sans-serif;font-size:16px;text-align:center;width:100vw;height:100vh;color:white;background-color:rgb(130,38,158);} @media print{.haxzII{font-size:24px;height:auto;}} @media screen and (min-width:64em){.haxzII{font-size:32px;}} .haxzII li > ul,.haxzII li > ol{font-size:inherit;} .haxzII li > p{font-size:inherit;margin:0;}
/* sc-component-id: Box-rhjs1i-0 */
.fdilWx{-webkit-flex:none;-ms-flex:none;flex:none;width:50%;}
/* sc-component-id: sc-fjdhpX */
.kfwTvB{line-height:1.25;font-size:3em;}
/* sc-component-id: sc-jzJRlG */
.hhOokc{line-height:1.25;font-size:2em;}
/* sc-component-id: components__a-mhn4yb-1 */
.bPvHIy{color:white;}
/* sc-component-id: components__p-mhn4yb-2 */
.bLgNgG{font-size:1.5em;}
/* sc-component-id: components__ul-mhn4yb-3 */
.wJUqW{text-align:left;font-size:1.5em;text-align:left;}
/* sc-component-id: components__blockquote-mhn4yb-6 */
.cIbtdN{text-align:left;font-weight:bold;font-size:1.5em;margin-left:0px;margin-right:0px;padding-left:0px;padding-right:0px;color:quote;}
/* sc-component-id: components__inlineCode-mhn4yb-8 */
.bktZNt{font-family:Menlo,monospace;color:pink;background-color:rgb(130,38,158,0);}
/* sc-component-id: Image-sc-90sjcj-0 */
.huoDjZ{background-position:center;background-repeat:no-repeat;background-size:40%;background-image:url(./img/nulogo.png);width:100vw;height:100vh;}.cOMwQu{background-position:center;background-repeat:no-repeat;background-size:90%;background-image:url(https://imgs.xkcd.com/comics/lisp_cycles.png);width:100vw;height:100vh;}.hZotqo{background-position:center;background-repeat:no-repeat;background-size:70%;background-image:url(https://i.kym-cdn.com/photos/images/newsfeed/000/173/576/Wat8.jpg?1315930535);width:100vw;height:100vh;}
/* sc-component-id: Split__Root-sc-12ot84a-0 */
.jAFSiZ{width:100vw;height:100vh;}
/* sc-component-id: sc-ckVGcZ */
.ikSKGy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;} @media print{.ikSKGy{display:none;}}</style>
</head>
<body>
<div id=root><div><div mode="NORMAL" step="0" width="100vw" height="100vh" color="text" class="Root-sc-14f5wl6-0 haxzII"><div class="Carousel__CarouselRoot-sc-1sjk1xy-0 uVStT"><div class="Carousel__CarouselInner-sc-1sjk1xy-1 fnjkwn"><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><div src="./img/nulogo.png" width="100vw" height="100vh" class="Image-sc-90sjcj-0 huoDjZ"></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div class="Split__Root-sc-12ot84a-0 jAFSiZ"><div class="Flex-sc-1wyx7c4-0 sc-ckVGcZ ikSKGy"><div width="0.5" class="Box-rhjs1i-0 fdilWx"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Quem Somos</h1></div><div width="0.5" class="Box-rhjs1i-0 fdilWx"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Leonardo Iacovini</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">leonardo.iacovini@nubank.com.br</p><br/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Rafael Leal</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">rafael.leal@nubank.com.br</p></div></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div class="Split__Root-sc-12ot84a-0 jAFSiZ"><div class="Flex-sc-1wyx7c4-0 sc-ckVGcZ ikSKGy"><div width="0.5" class="Box-rhjs1i-0 fdilWx"><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Nubank</h1></div><div width="0.5" class="Box-rhjs1i-0 fdilWx"><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Cartão de Crédito (2014)</li><li class="components__li-mhn4yb-5 flYqAW">Rewards (2016)</li><li class="components__li-mhn4yb-5 flYqAW">NuConta (2017)</li><li class="components__li-mhn4yb-5 flYqAW">Cartão de Débito (2018)</li><li class="components__li-mhn4yb-5 flYqAW">Empréstimos (2019)</li></ul><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">6 milhões de clientes</li><li class="components__li-mhn4yb-5 flYqAW">Mais de 220 Engenheiros</li><li class="components__li-mhn4yb-5 flYqAW">Mais de 200 Microserviços Clojure</li></ul></div></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Tecnologias</h1><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Microserviços</li><li class="components__li-mhn4yb-5 flYqAW">Clojure</li><li class="components__li-mhn4yb-5 flYqAW">Kafka</li><li class="components__li-mhn4yb-5 flYqAW">Datomic</li><li class="components__li-mhn4yb-5 flYqAW">Kubernetes</li><li class="components__li-mhn4yb-5 flYqAW">AWS</li><li class="components__li-mhn4yb-5 flYqAW">...</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Clojure</h1><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">LISP</li><li class="components__li-mhn4yb-5 flYqAW">Funcional</li><li class="components__li-mhn4yb-5 flYqAW">JVM</li><li class="components__li-mhn4yb-5 flYqAW">REPL</li></ul><img width="20%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Clojure_logo.svg/1200px-Clojure_logo.svg.png"/></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">LISP</h1><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Parenteses!</li><li class="components__li-mhn4yb-5 flYqAW"><em>Code is Data</em></li><li class="components__li-mhn4yb-5 flYqAW">Primeira aparição em 1958</li><li class="components__li-mhn4yb-5 flYqAW">Common Lisp, Scheme, Clojure (entre outros)!</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><div src="https://imgs.xkcd.com/comics/lisp_cycles.png" width="100vw" height="100vh" class="Image-sc-90sjcj-0 cOMwQu"></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><div style="text-align:left;font-size:80px">JS<pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code><span class="hljs-function"><span style="color:#cb7832">function</span>(<span style="color:#b9b9b9">arg1, arg2</span>)</span></code></pre>Clojure<pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832">function</span> arg1 arg2)</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG hhOokc">Clojure é um <em>dialeto LISP</em></h2><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Dialeto é uma variante linguística constituída por características fonológicas, sintáticas, semânticas e morfológicas próprias.</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><div src="https://i.kym-cdn.com/photos/images/newsfeed/000/173/576/Wat8.jpg?1315930535" width="100vw" height="100vh" class="Image-sc-90sjcj-0 hZotqo"></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Clojure segue a mesma estrutura gramatical e sintática de um LISP, porém possui suas caraterísticas próprias de execução e padrões</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Exemplo (Fatorial)</h1><div style="text-align:left;font-size:70px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> factorial [n]
  (<span style="color:#cb7832"><span style="color:#e0c46c">if</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">=</span></span> n <span style="color:#6896ba">0</span>)
    <span style="color:#6896ba">1</span>
    (<span style="color:#cb7832"><span style="color:#e0c46c">*</span></span> n (<span style="color:#cb7832">factorial</span> (<span style="color:#cb7832"><span style="color:#e0c46c">dec</span></span> n)))))
</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Programação Funcional</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><em>Paradigma</em> de programação que procura tratar problemas computacionais como a avaliação de funções matemáticas, tem suas origens no cálculo Lambda</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Clojure</li><li class="components__li-mhn4yb-5 flYqAW">Elixir</li><li class="components__li-mhn4yb-5 flYqAW">Scala</li><li class="components__li-mhn4yb-5 flYqAW">Haskell</li><li class="components__li-mhn4yb-5 flYqAW">F#</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Funções puras</li><li class="components__li-mhn4yb-5 flYqAW">Imutabilidade</li><li class="components__li-mhn4yb-5 flYqAW">Idempotência (livre de <em>side-effects</em>)</li><li class="components__li-mhn4yb-5 flYqAW">Funções são valores (First Class Functions)</li><li class="components__li-mhn4yb-5 flYqAW">Transparência referencial</li><li class="components__li-mhn4yb-5 flYqAW">Programação declarativa</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Funcional?</h1><div style="text-align:left;font-size:30px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code><span class="hljs-function"><span style="color:#cb7832">void</span> <span class="hljs-title">fill_message</span><span style="color:#b9b9b9">(Person* person)</span> </span>{
    <span style="color:#cb7832">int</span> age_in_seconds = person-&gt;age;
    person-&gt;message = person-&gt;name + <span style="color:#6a8759">&quot; is &quot;</span> + (<span style="color:#cb7832">int</span>) age_in_seconds/<span style="color:#6896ba">3600</span> + <span style="color:#6a8759">&quot;years old&quot;</span>;
}
</code></pre></div><span style="font-size:80px;visibility:hidden">&quot;Uma relação f:A→B é uma função quando para qualquer x ∈ A existe um único (x,y) ∈ f.&quot;</span></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Funções Puras</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Os dados recebidos não são alterados. Um novo valor é criado e retornado</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">São funções livre de efeitos colaterais</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Efeitos colaterais são ações que alteram o estado do mundo (Eg: enviar um email, fazer uma transação no DB, etc...)</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Funções puras são fáceis de entender, testar e seguras de executar! (idempotentes)</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Imutabilidade</h1><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><em>Variáveis</em> não tem seu valor alterado</li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Se <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">a = 1</code>, então <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">a</code> sempre será <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">1</code></p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Funções não alteram o valor de suas entradas, elas produzem uma sáida com as alterações feitas.</li></ul><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">f(a) -&gt; b</code> onde <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">b != a</code> (outro <em>objeto</em> - não é a mesma referência)</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Vantagens</h1><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Programação concorrente/paralelismos (thread safety)</li><li class="components__li-mhn4yb-5 flYqAW">Fica mais fácil entender o que o código está fazendo</li><li class="components__li-mhn4yb-5 flYqAW">Facilidade para testar</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Performace</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Isso não deveria piorar a performace? (Listas por exemplo)</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Preciso ficar copiando as estruturas toda manipulação ?</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">NÃO</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Clojure usa estruturas de dados otimizadas para operações imutáveis, a maioria das operações é feita em O(1).</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Se utiliza de tecnicas de re-aproveitamento de memória (já que os dados não mudam - copy-on-write)</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Imutabilidade elimina grande parte dos problemas que ocasionam dead-locks e problemas de concorrência, simplificando nosso código</p><div style="text-align:left"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>lock.lock();
doSomething();
lock.unlock();</code></pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code><span style="color:#cb7832">synchronized</span> (Lock lock) {
    doSomething()
}</code></pre></div><span style="font-size:100px">🤔</span></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div class="Split__Root-sc-12ot84a-0 jAFSiZ"><div class="Flex-sc-1wyx7c4-0 sc-ckVGcZ ikSKGy"><div width="0.5" class="Box-rhjs1i-0 fdilWx"><div style="text-align:left">Mutável<pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code><span class="hljs-function"><span style="color:#cb7832">int</span> <span class="hljs-title">fatorial</span><span style="color:#b9b9b9">(<span style="color:#cb7832">int</span> n)</span> </span>{
    <span style="color:#cb7832">int</span> f = <span style="color:#6896ba">1</span>;
    <span style="color:#cb7832">while</span>( n &gt; <span style="color:#6896ba">0</span> )
        f *= n--;
    <span style="color:#cb7832">return</span> f;
}
</code></pre></div></div><div width="0.5" class="Box-rhjs1i-0 fdilWx"><div style="text-align:left">Imutável<pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> factorial [n]
  (<span style="color:#cb7832"><span style="color:#e0c46c">if</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">=</span></span> n <span style="color:#6896ba">0</span>)
    <span style="color:#6896ba">1</span>
    (<span style="color:#cb7832"><span style="color:#e0c46c">*</span></span> n (<span style="color:#cb7832">factorial</span> (<span style="color:#cb7832"><span style="color:#e0c46c">dec</span></span> n)))))
</code></pre></div></div></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Idempotência</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Em matemática e ciência da computação, a idempotência é a propriedade que algumas operações têm de poderem ser aplicadas várias vezes sem que o valor do resultado se altere após a aplicação inicial.</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">f(f(x)) = f(x)</code></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Mas e daí?</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Quando tivermos que lidar com estado externo, ainda podemos pensar em funções ao invés de subrotinas!</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Ao invés de pensarmos em:
<code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">f(x) -&gt; void</code></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">pensamos:
<code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">f(x, world) -&gt; new-world</code></p><div style="visibility:hidden">Em caso de falha, podemos tentar novamente sem medo de dupla execução!</div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Funções são Valores</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Funções são tratadas como demais tipos (inteiros, float, strings, etc...), e podem ser atribuidas a <em>variáveis</em>, passadas como argumentos
ou retornadas por outras funções.</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">High Order Functions</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">São funções que recebem outras funções como argumento</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Ou, funções que retornam outras funções</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">f(g(x))  === f∘g</code></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">f(g, a) -&gt; b</code></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">f(a, b) -&gt; g</code></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">onde <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">f</code> e <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">g</code> são funções</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><div style="text-align:left;font-size:50px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">def</span></span> incrementa (<span style="color:#cb7832"><span style="color:#e0c46c">fn</span></span> [a] (<span style="color:#cb7832"><span style="color:#e0c46c">+</span></span> a <span style="color:#6896ba">1</span>)))
(<span style="color:#cb7832"><span style="color:#e0c46c">map</span></span> incrementa [<span style="color:#6896ba">0</span> <span style="color:#6896ba">1</span> <span style="color:#6896ba">2</span> <span style="color:#6896ba">3</span> <span style="color:#6896ba">4</span>]) <span style="color:#7f7f7f">;; =&gt; [1 2 3 4 5]</span>
</code></pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">def</span></span> even? (<span style="color:#cb7832"><span style="color:#e0c46c">complement</span></span> odd?)) <span style="color:#7f7f7f">;; even? é um função</span>

(<span style="color:#cb7832"><span style="color:#e0c46c">even?</span></span> <span style="color:#6896ba">2</span>) <span style="color:#7f7f7f">;; =&gt; false</span>
(<span style="color:#cb7832"><span style="color:#e0c46c">even?</span></span> <span style="color:#6896ba">3</span>) <span style="color:#7f7f7f">;; =&gt; true</span>
</code></pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> f [a] (<span style="color:#cb7832"><span style="color:#e0c46c">+</span></span> a <span style="color:#6896ba">1</span>)))
(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> g [a] (<span style="color:#cb7832"><span style="color:#e0c46c">*</span></span> a <span style="color:#6896ba">2</span>))
(<span style="color:#cb7832"><span style="color:#e0c46c">def</span></span> fg (<span style="color:#cb7832"><span style="color:#e0c46c">comp</span></span> f g)) <span style="color:#7f7f7f">;; =&gt; (fg a) === (f (g a))</span>
(<span style="color:#cb7832">fg</span> <span style="color:#6896ba">10</span>) <span style="color:#7f7f7f">;; =&gt; 21</span>
</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">HoF Comuns</h1><div style="text-align:left;font-size:60px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">map</span></span> inc [<span style="color:#6896ba">1</span> <span style="color:#6896ba">2</span> <span style="color:#6896ba">3</span> <span style="color:#6896ba">4</span>]) <span style="color:#7f7f7f">;; =&gt; [2 3 4 5]</span>
(<span style="color:#cb7832"><span style="color:#e0c46c">filter</span></span> even? [<span style="color:#6896ba">1</span> <span style="color:#6896ba">2</span> <span style="color:#6896ba">3</span> <span style="color:#6896ba">4</span>]) <span style="color:#7f7f7f">;; =&gt; [2 4]</span>
(<span style="color:#cb7832"><span style="color:#e0c46c">reduce</span></span> + [<span style="color:#6896ba">1</span> <span style="color:#6896ba">2</span> <span style="color:#6896ba">3</span> <span style="color:#6896ba">4</span>])  <span style="color:#7f7f7f">;; =&gt; 10</span>
</code></pre></div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Operações em sequências!</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Referência Transparencial</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">O resultado de uma função depende apenas dos argumentos que ela recebe</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Característica de funções puras</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Clojure</h1><img width="50%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Clojure_logo.svg/1200px-Clojure_logo.svg.png"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><a href="https://clojure.org/" color="link" class="components__a-mhn4yb-1 bPvHIy">https://clojure.org/</a></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW">Roda na JVM, tem interop com outras linguagens que também rodam nela (Java, Scala, Groovy, etc...)</li><li class="components__li-mhn4yb-5 flYqAW">Dinâmica</li><li class="components__li-mhn4yb-5 flYqAW"><em>REPL Driven Development</em></li><li class="components__li-mhn4yb-5 flYqAW">Criada por Rich Hickey</li><li class="components__li-mhn4yb-5 flYqAW">Simples e intuitiva!</li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Tipos</h1><div style="text-align:left;font-size:50px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code><span style="color:#6896ba">1</span>           <span style="color:#7f7f7f">;; long (interger)</span>
<span style="color:#6896ba">1.2</span>         <span style="color:#7f7f7f">;; double (float)</span>
<span style="color:#6a8759">&quot;text&quot;</span>      <span style="color:#7f7f7f">;; string</span>
<span style="color:#6896ba">true</span>        <span style="color:#7f7f7f">;; boolean</span>
<span style="color:#e0c46c">:hey</span>        <span style="color:#7f7f7f">;; keywords</span>
<span style="color:#6896ba">1</span>/<span style="color:#6896ba">3</span>         <span style="color:#7f7f7f">;; Ratio</span>
<span style="color:#6896ba">1</span>N          <span style="color:#7f7f7f">;; BigInteger</span>
<span style="color:#6896ba">10.24</span>M      <span style="color:#7f7f7f">;; BigDecimal</span>
(<span style="color:#6896ba">1</span> <span style="color:#6896ba">2</span> <span style="color:#6896ba">3</span>)     <span style="color:#7f7f7f">;; List</span>
[<span style="color:#6896ba">1</span> <span style="color:#6896ba">2</span> <span style="color:#6896ba">3</span>]     <span style="color:#7f7f7f">;; Vector</span>
{<span style="color:#e0c46c">:a</span> <span style="color:#6a8759">&quot;ola&quot;</span>}  <span style="color:#7f7f7f">;; Maps</span>
#{<span style="color:#6896ba">1</span> <span style="color:#6896ba">2</span> <span style="color:#6896ba">3</span>}    <span style="color:#7f7f7f">;; Sets</span>
(<span style="color:#cb7832"><span style="color:#e0c46c">fn</span></span> [])     <span style="color:#7f7f7f">;; Funções</span>
<span style="color:#6896ba">nil</span>         <span style="color:#7f7f7f">;; nil</span>
</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><blockquote font-size="2" color="quote" class="components__blockquote-mhn4yb-6 cIbtdN"><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">&quot;It is better to have 100 functions operate on one data structure than to have 10 functions operate on 10 data structures.&quot; - Alan Perlis</p></blockquote></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Números</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">BigDecimal</code> e <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">BigInteger</code> são nativos do Clojure, você pode fazer operações com extrema alta precisão usando todos métodos e operadores
nativos. (muito útil para uma instituição financeira)</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">Ratio</code> é um tipo de Clojure que permite expressar frações e proporções com precisão infinita, como por exemplo <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">1/3</code></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Funções</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Funções em clojure podem ser criadas usando <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">fn</code>:</p><div style="text-align:left;font-size:50px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">fn</span></span> [arg] body)
(<span style="color:#cb7832"><span style="color:#e0c46c">def</span></span> my-fn (<span style="color:#cb7832"><span style="color:#e0c46c">fn</span></span> [arg] body))
(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> my-fn [arg] body)
#(<span style="color:#cb7832"><span style="color:#e0c46c">inc</span></span> %) <span style="color:#7f7f7f">;; =&gt; (fn [a] (inc a))</span></code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Mapas</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Mapas <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">{}</code> são usados muito em Clojure para carregar valores juntos (o que geralmente seria um objeto), mas ele contém apenas os valores imutáveis
e não operações que alteram seu estado.</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Geralmente <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">keywords</code> são usadas como chaves para os mapas</p><div style="text-align:left;font-size:50px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>{<span style="color:#e0c46c">:name</span>           <span style="color:#6a8759">&quot;John&quot;</span>
 <span style="color:#e0c46c">:account-number</span> <span style="color:#6896ba">3456</span>
 <span style="color:#e0c46c">:branch</span>         <span style="color:#6896ba">1</span>}</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Sequences</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Clojure conta com 2 tipos para sequências: <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">List &#x27;()</code> e <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">Vector []</code></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Ambas são bem semelhantes e funcionam de forma da mesma maneira em diferentes funções e cenários, porém existem algumas diferenças de comportamentos, como por exemplo:</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">Lists</code> tem elementos adicionados no seu inícios, <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">Vectors</code> tem elementos adicionados no final, quando usando a função <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">conj</code></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h2 font-size="3" class="components__Heading-mhn4yb-0-h2 sc-jzJRlG hhOokc">Sequências são elementos fudamentais em programação funcional, e em Clojure. Processar e transformar sequências de dados é parte central de muitos programas</h2></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Blocos</h1><div style="text-align:left;font-size:50px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">def</span></span> a <span style="color:#6896ba">2</span>)
(<span style="color:#cb7832"><span style="color:#e0c46c">def</span></span> incrementa (<span style="color:#cb7832"><span style="color:#e0c46c">fn</span></span> [a] (<span style="color:#cb7832"><span style="color:#e0c46c">+</span></span> a <span style="color:#6896ba">1</span>)))
(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> incrementa [a] (<span style="color:#cb7832"><span style="color:#e0c46c">+</span></span> a <span style="color:#6896ba">1</span>))

(<span style="color:#cb7832"><span style="color:#e0c46c">if</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">pos?</span></span> age)
  <span style="color:#e0c46c">:verdade</span>
  <span style="color:#e0c46c">:falso</span>) <span style="color:#7f7f7f">;; :verdade</span>

(<span style="color:#cb7832"><span style="color:#e0c46c">let</span></span> [a <span style="color:#6896ba">10</span>
      b (<span style="color:#cb7832"><span style="color:#e0c46c">+</span></span> a <span style="color:#6896ba">10</span>)]     <span style="color:#7f7f7f">;; =&gt; b = 20</span>
  (<span style="color:#cb7832"><span style="color:#e0c46c">+</span></span> (<span style="color:#cb7832">incrementa</span> a)
     (<span style="color:#cb7832">incrementa</span> b))) <span style="color:#7f7f7f">;; =&gt; 32</span>
</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Recursão</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Recursão é uma ferramenta importante em programação funcional, pois permite que executemos &quot;loops&quot; sem alterar o valor das variáveis</p><div style="text-align:left;font-size:50px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> factorial [n]
  (<span style="color:#cb7832"><span style="color:#e0c46c">if</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">=</span></span> n <span style="color:#6896ba">0</span>)
    <span style="color:#6896ba">1</span>
    (<span style="color:#cb7832"><span style="color:#e0c46c">*</span></span> n (<span style="color:#cb7832">factorial</span> (<span style="color:#cb7832"><span style="color:#e0c46c">dec</span></span> n)))))

(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> tail-recur [sum cnt]
   (<span style="color:#cb7832"><span style="color:#e0c46c">if</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">=</span></span> cnt <span style="color:#6896ba">0</span>)
      sum
      (<span style="color:#cb7832"><span style="color:#e0c46c">recur</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">+</span></span> cnt sum) (<span style="color:#cb7832"><span style="color:#e0c46c">dec</span></span> cnt))))
</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Loop</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Permite realizar loops dentro de funções, como se tivessemos uma recursão localizada.</p><div style="text-align:left;font-size:50px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">loop</span></span> [value <span style="color:#6896ba">0</span>]
  (<span style="color:#cb7832"><span style="color:#e0c46c">if</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">&lt;</span></span> value <span style="color:#6896ba">10</span>)
    (<span style="color:#cb7832"><span style="color:#e0c46c">recur</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">inc</span></span> value))
    (<span style="color:#cb7832">println</span> <span style="color:#6a8759">&quot;Done&quot;</span>)))</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Dica!</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Prefira sempre utilizar sempre que possível funções como <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">map</code>, <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">filter</code>, <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">reduce</code>, etc... E composições delas, ao invés de recursão e <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">loop</code>.</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Elas deixam seu código mais limpo, funcional e fácil de entender. Recursão deve ser utilizada quando ela for realmente a melhor opção (ou única)</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Keywords</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">keywords</code> são um tipo muito usado em Clojure, geralmente são usadas como chaves de mapas, ou identificadores (como valores de um Enum)</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">keywords</code> podem (e muitas vezes são) usadas com namespaces, como por exemplo: <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">:person/name</code>. Isso ajuda a <em>qualificar</em> a <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">keywords</code></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">keywords</code> também são funções! Você pode acessar valores de um mapa usando elas: <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">(:name {:name &quot;John&quot;})</code> =&gt; <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">&quot;John&quot;</code></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Sets</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">sets #{1 2 3}</code> são coleções como sequências, só que sem uma ordem definida, e não podem ter elementos repetidos.</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">sets</code> também são funções! Usando um <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">set</code>, podemos saber se um elemento está contido nele: </p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">(#{1 2 3} 1)</code> =&gt; <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">1</code></p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">(#{1 2 3} 5)</code> =&gt; <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">nil</code></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Code is Data</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">O código Clojure em sí é uma sequência de símbolos em uma <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">list</code></p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Macros</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">São <em>funções</em> que operam sobre a estrutura do código para modifica-lo antes da compilação ou execução</p><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Exemplo: Thread Last Macro <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">-&gt;&gt;</code></p><div style="text-align:left;font-size:50px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">-&gt;&gt;</span></span> [<span style="color:#6896ba">1</span> <span style="color:#6896ba">2</span> <span style="color:#6896ba">3</span>]
     (<span style="color:#cb7832"><span style="color:#e0c46c">map</span></span> inc)
     (<span style="color:#cb7832"><span style="color:#e0c46c">filter</span></span> even?)) <span style="color:#7f7f7f">;; =&gt; (filter even? (map inc [1 2 3]))</span>
</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">DEMO</h1></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><div style="text-align:left;font-size:20px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">defn</span></span> all-bills [account as-of db http rollout routes]
  (<span style="color:#cb7832"><span style="color:#e0c46c">let</span></span> [[latest &amp; historical] (<span style="color:#cb7832">latest+historical-bills</span> account as-of db http)
        open-bill             (<span style="color:#cb7832">open-bill-w-cache</span> account as-of db http)
        future-bills          (<span style="color:#cb7832"><span style="color:#e0c46c">-&gt;&gt;</span></span> (<span style="color:#cb7832">future-bills</span> account as-of db http)
                                   <span style="color:#e0c46c">:bills</span>
                                   (<span style="color:#cb7832">time/sort-latest-first</span> <span style="color:#e0c46c">:bill/due-date</span>))
        card-interests        (<span style="color:#cb7832">c-acc/all-card-interests</span> (<span style="color:#e0c46c">:account/id</span> account) http)
        future+open           (<span style="color:#cb7832"><span style="color:#e0c46c">conj</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">vec</span></span> future-bills) (<span style="color:#e0c46c">:bill</span> open-bill))
        future+open-wire      (<span style="color:#cb7832"><span style="color:#e0c46c">mapv</span></span> #(<span style="color:#cb7832">a-bill/bill-&gt;full-preview-wire</span> % account card-interests routes) future+open)
        historical-wire       (<span style="color:#cb7832"><span style="color:#e0c46c">mapv</span></span> #(<span style="color:#cb7832">a-bill/bill-&gt;full-preview-wire</span> % account card-interests routes) historical)]
    (<span style="color:#cb7832"><span style="color:#e0c46c">if</span></span> latest
      (<span style="color:#cb7832"><span style="color:#e0c46c">let</span></span> [financing-info (<span style="color:#cb7832">http/financing-info</span> latest account http)
            latest-wire    (<span style="color:#cb7832">a-bill/latest-bill-&gt;full-preview-wire</span> latest account card-interests financing-info (<span style="color:#e0c46c">:line-items</span> open-bill) routes)]
        (<span style="color:#cb7832"><span style="color:#e0c46c">into</span></span> (<span style="color:#cb7832"><span style="color:#e0c46c">conj</span></span> future+open-wire latest-wire) historical-wire))
      (<span style="color:#cb7832"><span style="color:#e0c46c">into</span></span> future+open-wire historical-wire))))
</code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Interop Java</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Clojure consegue realizar interop com Java, e com isso ganhamos todo acervo que a JVM nos fornece.</p><div style="text-align:left;font-size:30px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">let</span></span> [d (<span style="color:#cb7832">java.util.Date.</span>)]
  (<span style="color:#cb7832">.getTime</span> d))  <span style="color:#7f7f7f">; ⇒ 1349819873183</span>

(<span style="color:#cb7832">Math/floor</span> <span style="color:#6896ba">5.677</span>)  <span style="color:#7f7f7f">; ⇒ 5.0</span>
(<span style="color:#cb7832">Boolean/valueOf</span> <span style="color:#6a8759">&quot;false&quot;</span>)  <span style="color:#7f7f7f">; ⇒ false</span>
(<span style="color:#cb7832">Boolean/valueOf</span> <span style="color:#6a8759">&quot;true&quot;</span>)   <span style="color:#7f7f7f">; ⇒ true</span></code></pre></div><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">(não abuse do interop - use somente quando necessário - Clojure fornece uma biblioteca repleta de recursos)</p></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Concorrência e Paralelismo</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Clojure é feito pensando em concorrência, ele nos provê nativamente várias funções para ajudar com isso!</p><ul font-size="2" class="components__ul-mhn4yb-3 wJUqW"><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">pmap</code> -&gt; Como o <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">map</code> só que paraleliza automaticamente o processamento</li><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">future</code></li><li class="components__li-mhn4yb-5 flYqAW"><code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">promise</code></li></ul></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Mas... E quando precisamos de estado?</h1></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Estado Mutável</h1><p font-size="2" class="components__p-mhn4yb-2 bLgNgG">Quando precisamos trabalhar com estado mutável, Clojure possui estruturas de dados próprias para isso, como por exemplo o <code color="code" class="components__inlineCode-mhn4yb-8 bktZNt">atom</code></p><div style="text-align:left;font-size:30px"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code>(<span style="color:#cb7832"><span style="color:#e0c46c">def</span></span> car (<span style="color:#cb7832"><span style="color:#e0c46c">atom</span></span> {<span style="color:#e0c46c">:make</span> <span style="color:#6a8759">&quot;Audi&quot;</span>
                <span style="color:#e0c46c">:model</span> <span style="color:#6a8759">&quot;Q3&quot;</span>}))

@car
<span style="color:#7f7f7f">;;{:make &quot;Audi&quot;, :model &quot;Q3&quot;}</span>

(<span style="color:#cb7832"><span style="color:#e0c46c">swap!</span></span> car assoc <span style="color:#e0c46c">:model</span> <span style="color:#6a8759">&quot;Q5&quot;</span>)
<span style="color:#7f7f7f">;;{:make &quot;Audi&quot;, :model &quot;Q5&quot;}</span>

(<span style="color:#cb7832"><span style="color:#e0c46c">reset!</span></span> car {<span style="color:#e0c46c">:make</span> <span style="color:#6a8759">&quot;&quot;</span> <span style="color:#e0c46c">:model</span> <span style="color:#6a8759">&quot;&quot;</span>})
<span style="color:#7f7f7f">;;{:make &quot;&quot;, :model &quot;&quot;}</span></code></pre></div></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><h1 font-size="4" class="components__Heading-mhn4yb-0-h1 sc-fjdhpX kfwTvB">Estamos Contratando!</h1></div></div><div class="Slide__Root-sc-1lv2mpt-0 bjRLwG"><div><img src="./img/qr.png" width="30%"/><p font-size="2" class="components__p-mhn4yb-2 bLgNgG"><a href="http://bit.ly/2C4B6cD" color="link" class="components__a-mhn4yb-1 bPvHIy">http://bit.ly/2C4B6cD</a></p></div></div></div></div></div></div><div class="Provider__Bottom-sc-1iqnegd-0 dCXoOk"><div class="Flex-sc-1wyx7c4-0 RRYwl"><button title="go to: 0" color="text" class="Dots__Dot-m5ie3q-0 bGVkCx"></button><button title="go to: 1" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 2" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 3" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 4" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 5" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 6" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 7" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 8" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 9" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 10" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 11" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 12" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 13" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 14" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 15" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 16" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 17" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 18" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 19" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 20" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 21" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 22" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 23" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 24" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 25" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 26" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 27" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 28" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 29" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 30" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 31" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 32" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 33" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 34" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 35" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 36" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 37" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 38" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 39" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 40" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 41" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 42" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 43" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 44" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 45" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 46" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 47" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 48" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 49" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 50" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 51" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 52" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button><button title="go to: 53" color="text" class="Dots__Dot-m5ie3q-0 hmwvJl"></button></div></div><div role="button" title="Previous Slide" class="Provider__Button-sc-1iqnegd-1 sc-bdVaJa evDtJG"></div><div role="button" title="Next Slide" class="Provider__Button-sc-1iqnegd-1 sc-bwzfXH iCAEIQ"></div></div>
<script src="main.js"></script>
</body>
</html>
